# my_calculator
## 概要
* 以下の機能を持つCLI計算機をPythonで実装
    * 計算結果が整数,小数であればクリップボードに自動的にコピー
    * xの方程式を解析的に解く
    * 数学(算数)の問題を素早く解く
    * 例(入力 -> 内部での扱い)
      * 1,234 -> 1234
      * 2_sen -> 2*1000
      * 3_man -> 3*10000 

## 使用ライブラリとバージョン
* python=3.12
* pip=23.3.1
* ライブラリ
```text:requirements.txt
pytest==7.4.3 #testで使用
sympy==1.12 #方程式の解析解を得るのに使用
pyperclip==1.8.2 #解をクリップボードにコピーするために使用
```
## 使用方法
* 実行方法
```bash
python ./my_calculator.py
```
* オプションの説明
```bash
usage: my_calculator.py [-h] [--calculation]

簡単な数値計算とxの方程式を解析的に解くプログラム

options:
  -h, --help     show this help message and exit
  --calculation  指定すると数値計算を行う 指定しないと方程式を解くモードで実行
```

### 数値計算モード
* 実行方法
```bash
python ./my_calculator.py --calculation 
```
* 使い方
  * 数式を入力すると、その計算結果が表示され、クリップボードにコピーされます。
  * 終了するには、終了文字列として指定されている文字列（デフォルトは "e"）を入力します。

* 実行例
```bash
> python ./my_calculator.py --calculation 
数式を計算する
eで終了
計算式: 2_sen + 3_man
x = 32000 = 32000.0000000000
32000 をクリップボードにコピー
計算式: 2,300
x = 2300 = 2300.00000000000
2300 をクリップボードにコピー
```
* 使える特殊文字
  * [数字]_sen
    * 内部で *1000 に変換
  * [数字]_man 
    * 内部で *10_000 に変換
  * 1,234,567
    * 内部で 1_234_567 に変換

### 方程式モード
* 実行方法
```bash
python ./my_calculator.py
```
* 使い方
  * --calculation オプションを指定せずにプログラムを実行すると、方程式解析モードになります。
  * 左辺と右辺の数学式を入力すると、1次方程式を解析して解を求め、結果が表示され、クリップボードにコピーされます
  * 終了するには、終了文字列として指定されている文字列（デフォルトは "e"）を入力します。

* 実行例
```bash
> python ./my_calculator.py 
xの方程式を解く
eで終了
左辺: 2*x+3
右辺: 1
Eq(2*x + 3, 1)
x = -1 = -1.00000000000000
-1 をクリップボードにコピー
左辺: 19-3*x
右辺: 15*x-5
Eq(19 - 3*x, 15*x - 5)
x = 4/3 = 1.33333333333333
1.33333333333333 をクリップボードにコピー
```
* 使える特殊文字は数値計算モードと同じ